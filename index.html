<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>30 Tage mit Jesus ‚Äì Bibelleseplan</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>

/* ---------------------------------------------------
   DARK LUXE (BLACK + GOLD) UI
--------------------------------------------------- */

:root {
  --bg: #0c0c0c;
  --card-bg: #141414;
  --text: #e8e8e8;
  --muted: #9c9c9c;
  --gold: #d4af37;
  --gold-soft: #a98b2c;
  --border: #2a2a2a;
  --radius: 14px;
}

/* DARK MODE OVERRIDE */
body[data-theme="light"] {
  --bg: #f8f5e9;
  --card-bg: #fffdf8;
  --text: #2c2415;
  --muted: #6a6047;
  --gold: #b68a2c;
  --border: #e2d3b8;
}

body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* ---------------------------------------------------
   PAGE WRAPPER
--------------------------------------------------- */

.page {
  max-width: 980px;
  margin: 0 auto;
  padding: 28px 18px 60px;
}

/* ---------------------------------------------------
   HEADER
--------------------------------------------------- */

.header-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.header-btn {
  padding: 7px 14px;
  border-radius: 999px;
  border: 1px solid var(--gold);
  background: transparent;
  color: var(--gold);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: 0.25s;
}

.header-btn:hover {
  background: var(--gold);
  color: black;
  box-shadow: 0 0 12px rgba(212,175,55,0.6);
}

/* ---------------------------------------------------
   TITLE BLOCK
--------------------------------------------------- */

h1 {
  margin: 12px 0 6px;
  font-size: 32px;
  color: var(--gold);
}

.subtitle {
  color: var(--muted);
  font-size: 14px;
  margin-bottom: 20px;
}

.intro-card {
  background: var(--card-bg);
  border: 1px solid var(--border);
  padding: 16px 20px;
  border-radius: var(--radius);
  line-height: 1.5rem;
  margin-top: 16px;
  box-shadow: 0 0 22px rgba(212,175,55,0.05);
}

/* ---------------------------------------------------
   NAVIGATION (TABS)
--------------------------------------------------- */

.main-nav {
  margin-top: 22px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.nav-tab {
  padding: 8px 18px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--card-bg);
  color: var(--text);
  cursor: pointer;
  transition: 0.25s;
  font-size: 14px;
}

.nav-tab:hover {
  background: var(--gold);
  color: black;
}

.nav-tab.is-active {
  background: var(--gold);
  color: black;
  box-shadow: 0 0 12px rgba(212,175,55,0.6);
}

/* ---------------------------------------------------
   TAB SECTIONS
--------------------------------------------------- */

.tab-section {
  display: none;
  animation: fadeIn 0.4s ease;
}

.tab-section.active {
  display: block;
}

/* ---------------------------------------------------
   DAY LIST
--------------------------------------------------- */

.layout {
  margin-top: 28px;
  display: grid;
  grid-template-columns: 3fr 2fr;
  gap: 20px;
}

@media(max-width: 850px) {
  .layout { grid-template-columns: 1fr; }
}

.card {
  background: var(--card-bg);
  border: 1px solid var(--border);
  padding: 18px;
  border-radius: var(--radius);
}

.day-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.day-card {
  display: flex;
  gap: 14px;
  padding: 12px 14px;
  border-radius: var(--radius);
  background: #111;
  border: 1px solid #222;
  transition: 0.2s;
}

.day-card:hover {
  border-color: var(--gold);
  box-shadow: 0 0 15px rgba(212,175,55,0.15);
}

.day-num {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--gold);
  color: black;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}

.day-title {
  font-size: 15px;
  font-weight: 600;
}

.day-ref {
  font-size: 13px;
  color: var(--muted);
}

/* BUTTON "done" */
.btn-small {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--gold);
  background: transparent;
  color: var(--gold);
  cursor: pointer;
  font-size: 12px;
}

.btn-small.is-done {
  background: var(--gold);
  color: black;
}

.reset-link {
  color: var(--muted);
  font-size: 11px;
  cursor: pointer;
}

/* ---------------------------------------------------
   PROGRESS BAR
--------------------------------------------------- */

.progress-bar {
  height: 12px;
  background: #333;
  border-radius: 999px;
  border: 1px solid #555;
  margin-top: 6px;
}

.progress-fill {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, var(--gold), #f0d98a);
  border-radius: 999px;
  transition: width 0.35s ease-out;
}

/* ---------------------------------------------------
   ABOUT & JOURNAL
--------------------------------------------------- */

.about-card,
.journal-card {
  background: var(--card-bg);
  padding: 20px;
  border-radius: var(--radius);
  border: 1px solid var(--border);
}

.journal-textarea {
  width: 100%;
  min-height: 180px;
  padding: 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: #111;
  color: var(--text);
  font-size: 15px;
}

/* SAVE BUTTON */
.journal-save-btn {
  margin-top: 10px;
  padding: 8px 16px;
  border-radius: 999px;
  background: var(--gold);
  border: none;
  cursor: pointer;
  font-weight: bold;
  color: black;
}

/* MUSIC SELECT */
.music-select {
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--gold);
  background: #111;
  color: var(--gold);
}

/* ---------------------------------------------------
   ANIMATION
--------------------------------------------------- */

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ---------------------------------------------------
   LEVEL 3: TODAY BADGE + FOCUS MODE + JOURNAL CONTROLS
--------------------------------------------------- */

/* Hari "heute" */
.day-card.today {
  border-color: var(--gold);
  box-shadow: 0 0 18px rgba(212,175,55,0.35);
  position: relative;
}

.today-badge {
  position: absolute;
  top: 6px;
  right: 10px;
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(212,175,55,0.18);
  border: 1px solid rgba(212,175,55,0.6);
  color: var(--gold);
}

/* Morgens / Abends layout */
.day-ref-row {
  display: flex;
  gap: 6px;
  align-items: baseline;
  font-size: 13px;
}

.day-ref-label {
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(212,175,55,0.08);
  border: 1px solid rgba(212,175,55,0.4);
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--gold);
}

/* Focus Overlay */
.focus-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: none;              /* ‚¨Ö default: tidak kelihatan */
  align-items: center;
  justify-content: center;
  z-index: 50;
}

.focus-overlay.is-open {      /* ‚¨Ö saat aktif */
  display: flex;
}

.focus-dialog {
  background: #111;
  border-radius: 18px;
  padding: 20px 22px;
  width: min(90vw, 480px);
  border: 1px solid var(--gold);
  box-shadow: 0 0 30px rgba(212,175,55,0.5);
}

.focus-close {
  float: right;
  border: none;
  background: transparent;
  color: var(--muted);
  font-size: 20px;
  cursor: pointer;
}

/* Journal controls */
.journal-controls {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-bottom: 10px;
  flex-wrap: wrap;
}

.journal-controls label {
  font-size: 13px;
}

.journal-controls select {
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: #111;
  color: var(--text);
}

</style>
</head>

<body>

<div class="page">

  <!-- HEADER BUTTONS -->
  <div class="header-actions">
    <select id="music-select" class="music-select">
      <option value="ambient">Ambient Worship</option>
      <option value="piano">Piano Worship</option>
      <option value="harp">Harp / Soaking</option>
      <option value="nature">Nature (Rain/River)</option>
    </select>
    <button id="theme-toggle" class="header-btn">‚òÄ</button>
  </div>

  <h1>30 Tage mit Jesus</h1>
  <p class="subtitle">Ein √§sthetischer Bibelleseplan von Gabriella Anastasia Sapari.</p>

  <div class="intro-card">
    Dieser Plan f√ºhrt dich in 30 Tagen durch zentrale Momente im Leben Jesu.<br>
    Nimm dir jeden Tag <strong>10‚Äì20 Minuten</strong> zum Lesen, Nachdenken und Beten.<br>
    Dein Fortschritt bleibt lokal im Browser gespeichert.
  </div>

  <!-- NAVIGATION -->
  <nav class="main-nav">
    <button class="nav-tab is-active" data-tab="lesenplan">üìñ Leseplan</button>
    <button class="nav-tab" data-tab="about">üë§ √úber mich</button>
    <button class="nav-tab" data-tab="journal">üìù Journal</button>
  </nav>

  <!-- -------------------------------
       TAB: LESEPLAN
  -------------------------------- -->
  <div id="tab-lesenplan" class="tab-section active">
    <div class="layout">
      <!-- Left -->
      <section class="card">
        <h2>Lesetag ausw√§hlen</h2>
        <div class="day-list" id="dayList"></div>
      </section>

      <!-- Right -->
      <aside class="card">
        <h2>Dein Fortschritt</h2>
        <p id="progressText">0 von 31 Tagen abgeschlossen (0%).</p>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
      </aside>
    </div>
  </div>

  <!-- -------------------------------
       TAB: ABOUT
  -------------------------------- -->
  <div id="tab-about" class="tab-section">
    <div class="about-card">
      <h2 style="color:var(--gold)">√úber Gabriella</h2>
      <p>
        Ich bin Gabriella Anastasia Sapari ‚Äî Studentin, Creatorin und Tochter Gottes.  
        Dieser Bibelleseplan wurde gestaltet, um Jesus im Alltag n√§her zu kommen.
      </p>
    </div>
  </div>

  <!-- -------------------------------
       TAB: JOURNAL
  -------------------------------- -->
    <div id="tab-journal" class="tab-section">
    <div class="journal-card">
      <h2 style="color:var(--gold)">Journal &amp; Gebet</h2>

      <div class="journal-controls">
        <label for="journal-day">Tag:</label>
        <select id="journal-day"></select>
      </div>

      <textarea
        id="journal-text"
        class="journal-textarea"
        placeholder="Was hat dich heute besonders angesprochen? Was m√∂chtest du vor Gott aussprechen?"
      ></textarea>

      <button id="journal-save" class="journal-save-btn">Speichern</button>
      <p id="journal-status" style="font-size:12px;color:var(--muted);margin-top:6px;"></p>
    </div>
  </div>

    <!-- FOCUS OVERLAY (LEVEL 3) -->
  <div id="focusOverlay" class="focus-overlay">
    <div class="focus-dialog">
      <button id="focusClose" class="focus-close">&times;</button>
      <p id="focusDate" style="font-size:12px;color:var(--muted);margin-bottom:4px;"></p>
      <h2 id="focusTitle" style="margin-top:0;color:var(--gold)"></h2>
      <p id="focusMorning"></p>
      <p id="focusEvening"></p>
    </div>
  </div>

  <footer style="text-align:center;margin-top:30px;font-size:12px;color:var(--muted)">
    Erstellt mit Liebe von Gabriella
  </footer>

</div>

<!-- ---------------------------------------------------
     MUSIC SOURCES
--------------------------------------------------- -->
<audio id="player" preload="auto"></audio>

<script>

/* ---------------------------------------------------
   31-DAY READING PLAN (DECEMBER)
--------------------------------------------------- */

const plan = [
{day:1, morning:"Hes 45‚Äì46", evening:"Hebr 11,20‚Äì40"},
{day:2, morning:"Hes 47‚Äì48", evening:"Hebr 12"},
{day:3, morning:"Dan 1‚Äì2", evening:"Hebr 13"},
{day:4, morning:"Dan 3‚Äì4", evening:"Jak 1"},
{day:5, morning:"Dan 5‚Äì6", evening:"Jak 2"},
{day:6, morning:"Dan 7‚Äì8", evening:"Jak 3"},
{day:7, morning:"Dan 9‚Äì10", evening:"Jak 4"},
{day:8, morning:"Dan 11‚Äì12", evening:"Jak 5"},
{day:9, morning:"Hos 1‚Äì4", evening:"Judas"},
{day:10, morning:"Hos 5‚Äì8", evening:"Offb 1"},
{day:11, morning:"Hos 9‚Äì11", evening:"Offb 2"},
{day:12, morning:"Hos 12‚Äì14", evening:"Offb 3"},
{day:13, morning:"Joel 1‚Äì4", evening:"Offb 4"},
{day:14, morning:"Amos 1‚Äì3", evening:"Offb 5"},
{day:15, morning:"Amos 4‚Äì6", evening:"Offb 6"},
{day:16, morning:"Amos 7‚Äì9", evening:"Offb 7"},
{day:17, morning:"Obadja", evening:"Offb 8"},
{day:18, morning:"Jona", evening:"Offb 9"},
{day:19, morning:"Micha 1‚Äì3", evening:"Offb 10"},
{day:20, morning:"Micha 4‚Äì5", evening:"Offb 11"},
{day:21, morning:"Micha 6‚Äì7", evening:"Offb 12"},
{day:22, morning:"Nahum", evening:"Offb 13"},
{day:23, morning:"Habakuk", evening:"Offb 14"},
{day:24, morning:"Zefanja", evening:"Offb 15"},
{day:25, morning:"Haggai", evening:"Offb 16"},
{day:26, morning:"Sach 1‚Äì3", evening:"Offb 17"},
{day:27, morning:"Sach 4‚Äì6", evening:"Offb 18"},
{day:28, morning:"Sach 7‚Äì9", evening:"Offb 19"},
{day:29, morning:"Sach 10‚Äì12", evening:"Offb 20"},
{day:30, morning:"Sach 13‚Äì14", evening:"Offb 21"},
{day:31, morning:"Maleachi", evening:"Offb 22"},
];

/* ---------------------------------------------------
   RENDER DAY LIST
--------------------------------------------------- */

const STORAGE_KEY = "lesenplan-darkluxe";
const dayListEl = document.getElementById("dayList");
const progressTextEl = document.getElementById("progressText");
const progressFillEl = document.getElementById("progressFill");

function getState() {
  const raw = localStorage.getItem(STORAGE_KEY);
  return raw ? JSON.parse(raw) : {};
}

function setState(s) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(s));
}

function render() {
  const state = getState();
  dayListEl.innerHTML = "";
  let doneCount = 0;

  // cek apakah hari ini adalah Dezember 2025
  const today = new Date();
  const isDec2025 =
    today.getFullYear() === 2025 && today.getMonth() === 11;
  const todayDay = isDec2025 ? today.getDate() : null;

  plan.forEach(({ day, morning, evening }) => {
    const done = state[day]?.done ?? false;
    if (done) doneCount++;

    const card = document.createElement("div");
    card.className = "day-card";

    // jika hari ini
    if (todayDay && day === todayDay) {
      card.classList.add("today");
      const badge = document.createElement("div");
      badge.className = "today-badge";
      badge.textContent = "Heute";
      card.appendChild(badge);
    }

    const num = document.createElement("div");
    num.className = "day-num";
    num.textContent = day;

    const content = document.createElement("div");
    content.style.flex = "1";

    const title = document.createElement("div");
    title.className = "day-title";
    title.textContent = `Tag ${day}`;

    // Morgens / Abends rapi
    const rowM = document.createElement("div");
    rowM.className = "day-ref-row";
    rowM.innerHTML = `<span class="day-ref-label">Morgens</span><span>${morning}</span>`;

    const rowE = document.createElement("div");
    rowE.className = "day-ref-row";
    rowE.innerHTML = `<span class="day-ref-label">Abends</span><span>${evening}</span>`;

    content.appendChild(title);
    content.appendChild(rowM);
    content.appendChild(rowE);

    const actions = document.createElement("div");
    actions.style.display = "flex";
    actions.style.flexDirection = "column";
    actions.style.gap = "6px";

    // Done-Button
    const btn = document.createElement("button");
    btn.className = "btn-small";
    btn.textContent = done ? "Gelesen" : "Noch offen";
    if (done) btn.classList.add("is-done");

    btn.onclick = () => {
      const s = getState();
      if (s[day]?.done) {
        delete s[day];
      } else {
        s[day] = { done: true, ts: Date.now() };
      }
      setState(s);
      render();
    };

    // Focus-Button
    const focusBtn = document.createElement("button");
    focusBtn.className = "btn-small";
    focusBtn.textContent = "Im Fokus lesen";
    focusBtn.onclick = () => openFocus(day, morning, evening);

    // Reset-Link
    const reset = document.createElement("span");
    reset.className = "reset-link";
    reset.textContent = "Zur√ºcksetzen";
    reset.onclick = () => {
      const s = getState();
      delete s[day];
      setState(s);
      render();
    };

    actions.appendChild(btn);
    actions.appendChild(focusBtn);
    actions.appendChild(reset);

    card.appendChild(num);
    card.appendChild(content);
    card.appendChild(actions);

    dayListEl.appendChild(card);
  });

  const percent = Math.round((doneCount / plan.length) * 100);
  progressTextEl.textContent = `${doneCount} von ${plan.length} Tagen abgeschlossen (${percent}%).`;
  progressFillEl.style.width = percent + "%";
}

render();

/* ---------------------------------------------------
   FOCUS MODE
--------------------------------------------------- */

const focusOverlay = document.getElementById("focusOverlay");
const focusClose = document.getElementById("focusClose");
const focusDateEl = document.getElementById("focusDate");
const focusTitleEl = document.getElementById("focusTitle");
const focusMorningEl = document.getElementById("focusMorning");
const focusEveningEl = document.getElementById("focusEvening");

function openFocus(day, morning, evening) {
  focusTitleEl.textContent = `Tag ${day}`;
  focusMorningEl.textContent = `Morgens: ${morning}`;
  focusEveningEl.textContent = `Abends: ${evening}`;
  focusDateEl.textContent = `Dezember 2025 ‚Äì Tag ${day}`;
  focusOverlay.hidden = false;
}

focusClose.onclick = () => {
  focusOverlay.hidden = true;
};

focusOverlay.addEventListener("click", (e) => {
  if (e.target === focusOverlay) {
    focusOverlay.hidden = true;
  }
});

/* ---------------------------------------------------
   TAB SWITCHING
--------------------------------------------------- */

document.querySelectorAll(".nav-tab").forEach(btn => {
  btn.onclick = () => {
    document.querySelector(".nav-tab.is-active").classList.remove("is-active");
    btn.classList.add("is-active");

    document.querySelector(".tab-section.active").classList.remove("active");
    document.getElementById("tab-" + btn.dataset.tab).classList.add("active");
  };
});

/* ---------------------------------------------------
   THEME TOGGLE
--------------------------------------------------- */

const themeBtn = document.getElementById("theme-toggle");

if (localStorage.getItem("theme") === "light") {
  document.body.dataset.theme = "light";
  themeBtn.textContent = "üåô";
}

themeBtn.onclick = () => {
  if (document.body.dataset.theme === "light") {
    document.body.removeAttribute("data-theme");
    localStorage.setItem("theme", "dark");
    themeBtn.textContent = "‚òÄ";
  } else {
    document.body.dataset.theme = "light";
    localStorage.setItem("theme", "light");
    themeBtn.textContent = "üåô";
  }
};

/* ---------------------------------------------------
   JOURNAL SAVE
--------------------------------------------------- */

/* ---------------------------------------------------
   JOURNAL PER TAG
--------------------------------------------------- */

const journalDaySelect = document.getElementById("journal-day");
const journalText = document.getElementById("journal-text");
const journalStatus = document.getElementById("journal-status");
const JOURNAL_KEY = "journal-darkluxe-v2";

let journalStore = {};
try {
  const saved = localStorage.getItem(JOURNAL_KEY);
  journalStore = saved ? JSON.parse(saved) : {};
} catch {
  journalStore = {};
}

// isi dropdown Tag 1‚Äì31
if (journalDaySelect) {
  plan.forEach(({ day }) => {
    const opt = document.createElement("option");
    opt.value = String(day);
    opt.textContent = `Tag ${day}`;
    journalDaySelect.appendChild(opt);
  });

  // pilih default: heute, kalau Des 2025
  const t = new Date();
  if (t.getFullYear() === 2025 && t.getMonth() === 11) {
    const dd = t.getDate();
    const opt = [...journalDaySelect.options].find(o => Number(o.value) === dd);
    if (opt) journalDaySelect.value = String(dd);
  }
}

function loadJournalForDay(day) {
  journalText.value = journalStore[day] || "";
}

if (journalDaySelect) {
  loadJournalForDay(journalDaySelect.value);

  journalDaySelect.addEventListener("change", () => {
    loadJournalForDay(journalDaySelect.value);
    journalStatus.textContent = "";
  });
}

document.getElementById("journal-save").onclick = () => {
  const day = journalDaySelect.value;
  journalStore[day] = journalText.value || "";
  localStorage.setItem(JOURNAL_KEY, JSON.stringify(journalStore));
  journalStatus.textContent = "Gespeichert ‚úì";
};

/* ---------------------------------------------------
   MUSIC PLAYER + GENRE SELECTOR
--------------------------------------------------- */

const player = document.getElementById("player");
const musicSelect = document.getElementById("music-select");

const musicSources = {
  ambient:  "https://raw.githubusercontent.com/gabriellasapari/bibel-leseplan/main/ambient-worship-music-112199.mp3",
  piano:    "https://raw.githubusercontent.com/gabriellasapari/bibel-leseplan/main/piano-worship.mp3",
  harp:     "https://raw.githubusercontent.com/gabriellasapari/bibel-leseplan/main/harp-soaking.mp3",
  nature:   "https://raw.githubusercontent.com/gabriellasapari/bibel-leseplan/main/nature-rain-river.mp3"
};

musicSelect.onchange = () => {
  player.src = musicSources[musicSelect.value];
  player.play();
};

</script>

</body>
</html>
